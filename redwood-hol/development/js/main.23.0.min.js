// 23.0
"use strict";var showdown="https://oracle-livelabs.github.io/common/redwood-hol/js/showdown.min.js",highlight="https://oracle-livelabs.github.io/common/redwood-hol/js/highlight.min.js";const related_path="https://oracle-livelabs.github.io/common/related/";let main=function(){let manifestFileName="manifest.json",expandText="Expand All Tasks",collapseText="Collapse All Tasks";const copyButtonText="Copy",queryParam="lab",utmParams=[{url:"https://signup.cloud.oracle.com",inParam:"customTrackingParam",outParam:"sourceType"},{url:"https://myservices.us.oraclecloud.com/mycloud/signup",inParam:"customTrackingParam",outParam:"sourceType"},{url:"https://myservices.oraclecloud.com/mycloud/signup",inParam:"customTrackingParam",outParam:"sourceType"}],nav_param_name="nav",header_param_name="header",extendedNav={"#last":2,"#next":1,"#prev":-1,"#first":-2};let manifest_global;$.ajaxSetup({cache:!0}),$(document).ready((function(){let manifestFileContent;getParam("manifest")&&(manifestFileName=getParam("manifest")),$.when($.getScript(showdown,(function(){console.log("Showdown library loaded!")})),$.getJSON(manifestFileName,(function(manifestFile){void 0!==manifestFile.workshoptitle&&(document.getElementsByClassName("hol-Header-logo")[0].innerText=manifestFile.workshoptitle),console.log("Manifest file loaded!"),getParam("manifest")&&$(manifestFile.tutorials).each((function(){-1==$(this)[0].filename.indexOf("http")&&"/"!==$(this)[0].filename[0]&&($(this)[0].filename=manifestFileName.substring(0,manifestFileName.lastIndexOf("/")+1)+$(this)[0].filename)}));for(let short_name in manifestFile.include){let include_fname=manifestFile.include[short_name];-1==include_fname.indexOf("http")&&"/"!==include_fname[0]&&(include_fname=manifestFileName.substring(0,manifestFileName.lastIndexOf("/")+1)+include_fname),$.get(include_fname,(function(included_file_content){manifestFile.include[short_name]={path:include_fname,content:included_file_content}}))}manifestFile.variables&&(Array.isArray(manifestFile.variables)||(manifestFile.variables=Array(manifestFile.variables)),$(manifestFile.variables).each((function(_,i){$.getJSON(i,(function(variables){manifestFile.variable_values||(manifestFile.variable_values={}),$.extend(manifestFile.variable_values,variables)}))}))),manifest_global=manifestFileContent=manifestFile})),$.getScript(highlight,(function(){console.log("Highlight.js loaded!")}))).done((function(){init();let selectedTutorial=setupTutorialNav(manifestFileContent),articleElement=document.createElement("article");loadTutorial(articleElement,selectedTutorial,manifestFileContent,toggleTutorialNav),prepareToc(manifestFileContent),setupRelatedSection(manifestFileContent),setTimeout((function(){location.hash.slice(1)&&expandSectionBasedOnHash($("li[data-unique='"+location.hash.slice(1)+"']")),$("#leftNav-toc").hasClass("scroll")&&$(".selected")[0].scrollIntoView(!0)}),1e3)}))})),$(window).scroll((function(){$("#contentBox").outerHeight()+$("header").outerHeight()+$("footer").outerHeight()>$(window).outerHeight()?($("#leftNav-toc").addClass("scroll"),$(window).scrollTop()+$(window).height()>$("footer").offset().top?$("#leftNav-toc").css("max-height",$("footer").offset().top-$("#leftNav-toc").offset().top):$("#leftNav-toc").css("max-height",$(window).height()-$("header").height())):$("#leftNav-toc").removeClass("scroll");try{document.querySelector(".selected .active").getBoundingClientRect().y+document.querySelector(".selected .active").clientHeight>$(window).height()&&$("#leftNav-toc").hasClass("scroll")&&$(".selected .active")[0].scrollIntoView(!1)}catch(e){}let active=$("#contentBox").find("[data-unique]").first();$("#contentBox").find("[data-unique]").each((function(){$(this).offset().top-$(window).scrollTop()-$("header").height()<Math.abs($(active).offset().top-$(window).scrollTop())&&(active=$(this))})),$(".selected .toc .toc-item").removeClass("active"),$(".selected .toc").find('[data-unique="'+$(active).attr("data-unique")+'"]').addClass("active")})),$(window).on("hashchange load",(function(e){try{let position=extendedNav[e.target.location.hash];void 0!==position&&changeTutorial(getMDFileName(selectTutorial(manifest_global,position).filename))}catch(e){}}));let init=function(){let header_param;"hide"==getParam("header")&&($("header").hide(),$("body").css("padding-top","0px")),$(".hol-Header-actions").prependTo(".hol-Header-wrap"),$('<div id="tutorial-title"></div>').appendTo(".hol-Header-logo")[0],$("#openNav").click((function(){let nav_param=getParam("nav");nav_param&&"open"!==nav_param?"close"===nav_param&&window.history.pushState("","",setParam(window.location.href,"nav","open")):window.history.pushState("","",setParam(window.location.href,"nav","close")),toggleTutorialNav()})),$(".hol-Footer-topLink").after($(document.createElement("a")).addClass("hol-Footer-rightLink hide")),$(".hol-Footer-topLink").before($(document.createElement("a")).addClass("hol-Footer-leftLink hide")),$("#contentBox").css("min-height",$(window).height()-$("header").outerHeight()-$("footer").outerHeight()),$(".hol-Header-actions").show("slide")},loadTutorial=function(articleElement,selectedTutorial,manifestFileContent,callbackFunc=null){$.get(selectedTutorial.filename,(function(markdownContent){console.log(selectedTutorial.filename+" loaded!"),"preview"==selectedTutorial.filename&&"None"==markdownContent&&(markdownContent=window.localStorage.getItem("mdValue")),markdownContent=include(markdownContent,manifestFileContent.include),markdownContent=substituteVariables(markdownContent,manifestFileContent.variable_values),markdownContent=singlesource(markdownContent,selectedTutorial.type),markdownContent=convertBracketInsideCopyCode(markdownContent),markdownContent=addPathToImageSrc(markdownContent,selectedTutorial.filename),markdownContent=addPathToTypeHrefs(markdownContent),markdownContent=convertSingleLineCode(markdownContent),markdownContent=convertCodeBlocks(markdownContent),$(articleElement).html(new showdown.Converter({tables:!0,parseImgDimensions:!0,metadata:!0}).makeHtml(markdownContent)),articleElement=updateOpenCloseButtonText(articleElement,manifestFileContent),articleElement=showRightAndLeftArrow(articleElement,manifestFileContent),articleElement=renderVideoHubVideos(articleElement),articleElement=renderYouTubeVideos(articleElement),articleElement=updateH1Title(articleElement),articleElement=wrapSectionTag(articleElement),articleElement=wrapImgWithFigure(articleElement),articleElement=addPathToAllRelativeHref(articleElement,selectedTutorial.filename),articleElement=setH2Name(articleElement),articleElement=makeAnchorLinksWork(articleElement),articleElement=addTargetBlank(articleElement),articleElement=allowCodeCopy(articleElement),articleElement=enableForceDownload(articleElement),articleElement=injectUtmParams(articleElement),articleElement=showTabs(articleElement,selectedTutorial.type),articleElement=highlightCodeBlock(articleElement),articleElement=addModalWindow(articleElement),updateHeadContent(selectedTutorial,manifestFileContent.workshoptitle),addGoToForumLink(manifestFileContent.support),addNeedHelpLink(manifestFileContent.help,manifestFileContent.workshoptitle),"true"==getParam("qa")&&(articleElement=performQA(articleElement,markdownContent,manifestFileContent))})).done((function(){$("main").html(articleElement),setTimeout((function(){setupContentNav(manifestFileContent,articleElement)}),0),document.getElementsByTagName("header")[0].setAttribute("title","livelabs header"),document.getElementsByTagName("main")[0].setAttribute("title","livelabs main"),document.getElementsByTagName("footer")[0].setAttribute("title","livelabs footer"),$("table").attr("role","presentation");var i=0,tables=document.getElementsByTagName("table");let title=document.querySelector("title").innerText,caption_start='{: title="';for(;i<tables.length;i++){var table=tables[i],capt=table.createCaption();let given_title=null,next_element=$($(tables)[i]).find("tr").last();next_element.text().trim().startsWith('{: title="')&&(given_title=next_element.text().trim().replace('{: title="',""),given_title=given_title.replace('"}',""),$(next_element).remove());var tit=capt.textContent="Table "+(i+1)+": "+(given_title||title);table.setAttribute("role","presentation")}if("preview"==selectedTutorial.filename){let uploaded_images=JSON.parse(window.localStorage.getItem("imagesValue"));null!==uploaded_images&&$("main").find("img").each((function(i,imageFile){for(let i=0;i<uploaded_images.length;i++)$(imageFile).attr("src").indexOf(uploaded_images[i].filename)>=0&&$(imageFile).attr("src",uploaded_images[i].src)}))}"true"==getParam("qa")?dragElement(document.getElementById("qa-report")):collapseSection($("#module-content h2:not(:eq(0))"),"none"),callbackFunc&&callbackFunc()})).fail((function(){console.log(selectedTutorial.filename+" not found! Please check that the file is available in the location provided in the manifest file.")}))},convertSingleLineCode=function(markdown){let regex_type=new RegExp(/`{3,4}(.*?)`{3,4}/g),contentToReplace=[],matches;do{if(matches=regex_type.exec(markdown),null===matches)return $(contentToReplace).each((function(index,value){markdown=markdown.replace(value.replace,value.with)})),markdown;contentToReplace.push({replace:matches[0],with:"`"+matches[1]+"`"})}while(matches)},convertCodeBlocks=function(markdown){let regex_type=new RegExp(/`{3,}(.*?)\n([\s\S|\n]*?)`{3,}/g),matches,remove,remove_space_regex,contentToReplace=[];do{let pre_tag="<pre>";if(matches=regex_type.exec(markdown),null===matches)return $(contentToReplace).each((function(index,value){markdown=markdown.split(value.replace).join(value.with)})),markdown;remove=matches[2].substring(0,matches[2].indexOf(matches[2].trim())).replace(/\t/g,"    "),0!==matches[1].trim().length&&(pre_tag='<pre class="'+matches[1].trim()+'">');let replace_with=matches[2].replace(/\t/g,"    ").split("\n");for(let i=0;i<replace_with.length;i++)replace_with[i]=replace_with[i].replace(remove,"");replace_with=replace_with.join("\n"),contentToReplace.push({replace:matches[0],with:pre_tag+"<code>"+replace_with.trim()+"</code></pre>"})}while(matches)},addModalWindow=function(articleElement){let modalClose=$(document.createElement("span")).attr("id","modalClose").html("&times;"),modalImg=$(document.createElement("img")).attr("id","modalImg"),modalCaption=$(document.createElement("div")).attr("id","modalCaption"),modalWindow=$(document.createElement("div")).attr("id","modalWindow");return $(modalWindow).append([modalCaption,modalClose,modalImg]),$(articleElement).append(modalWindow),$(articleElement).find("img").click((function(){$(modalImg).attr({src:this.src,alt:this.alt}),$(modalWindow).addClass("show"),$(modalCaption).text(this.alt)})),$(modalWindow).click((function(){$(modalWindow).removeClass("show")})),articleElement},showTabs=function(articleElement,type){if("object"==$.type(type)){let div=$(document.createElement("div")).addClass("selection_tabs"),tab=$(document.createElement("ul")).addClass("tab");0==getParam("type")&&window.history.pushState("","",setParam(window.location.href,"type",Object.keys(type)[0])),$(Object.keys(type)).each((function(_,type_key){let li=$(document.createElement("li")).addClass("btn_if_"+type_key);$(li).html('<a href="#">'+type[type_key]+"</a>"),$(li).find("a").click((function(){$(this).attr("href",setParam(window.location.href,"type",type_key))})),$(tab).append(li),type_key==getParam("type")&&$(li).find("a").addClass("active")})),$(div).append(tab),$(articleElement).find("h2:not(:eq(0))").after(div),$(articleElement).find("h1").after(div),$(articleElement).find(".selection_tabs:not(:eq(0))").addClass("stick")}return articleElement},highlightCodeBlock=function(articleElement){return $(articleElement).find("pre:not(.nohighlighting) code").each((function(_,block){hljs.highlightBlock(block)})),articleElement},enableForceDownload=function(articleElement){return $(articleElement).find('a[href$="?download=1"]').each((function(){$(this).attr("download",""),$(this)[0].href=$(this)[0].href.replace("?download=1","")})),articleElement},include=function(markdown,include){for(let short_name in include)"object"==typeof include[short_name]&&(include[short_name].content=addPathToImageSrc(include[short_name].content,include[short_name].path),markdown=markdown.split("[](include:"+short_name+")").join(include[short_name].content));return markdown},substituteVariables=function(markdown,all_variables){for(let variable in all_variables)markdown=markdown.split("[](var:"+variable+")").join(all_variables[variable]);return markdown},addPathToTypeHrefs=function(markdown){let regex_type=new RegExp(/\[(?:.+?)\]\((&type=(\S*?))\)/g),matches;do{matches=regex_type.exec(markdown),null!==matches&&(markdown=markdown.replace(matches[1],setParam(window.location.href,"type",matches[2])))}while(matches);return markdown},arrowClick=function(){"-"===$(this).text()?($(this).next().next().fadeOut("fast",(function(){$(window).scroll()})),$(this).text("+")):($(this).next().next().fadeIn("fast",(function(){$(window).scroll()})),$(this).text("-"))},setupRelatedSection=function(manifestFileContent){const max_related=5;let related_li=[];if("show_related"in manifestFileContent){let related_content,tut_titles=[];for(let i=0;i<manifestFileContent.tutorials.length;i++)tut_titles[i]=manifestFileContent.tutorials[i].title.toLowerCase();for(let i=0;i<manifestFileContent.show_related.length;i++)"filename"in manifestFileContent.show_related[i]&&"tags"in manifestFileContent.show_related[i]&&"title"in manifestFileContent.show_related[i]&&$.getJSON(related_path+manifestFileContent.show_related[i].filename,(function(content){related_content=content})).done((function(){related_li[i]=$(document.createElement("li")).attr("id","related-content-"+i).css({"border-bottom":"0px","padding-left":"36px",cursor:"default","background-color":"rgb(0,0,0,0.06)"});let div_main=$(document.createElement("div")),a=$(document.createElement("a")).css("cursor","pointer"),arrow,div;$(a).click((function(){$(this).prev().click()})),$(a).append($(document.createElement("div")).text(manifestFileContent.show_related[i].title).css({"font-weight":"600"})),$(div_main).append(a),$(related_li[i]).append(div_main),div=$(document.createElement("div")).attr("id","toc-related-"+i).addClass("toc"),$(div_main).append(div),"state"in manifestFileContent.show_related[i]&&"collapsed"===manifestFileContent.show_related[i].state?($(div).hide(),arrow=$(document.createElement("div")).addClass("arrow").text("+")):arrow=$(document.createElement("div")).addClass("arrow").text("-"),$(arrow).css("cursor","pointer").click(arrowClick),$(div_main).prepend(arrow),$("#leftNav-toc ul.hol-Nav-list:first-of-type").append(related_li[i]);let related_workshops={},tags=manifestFileContent.show_related[i].tags;$(tags).each((function(_,tag){related_workshops={...related_workshops,...related_content[tag]}}));let filtered_workshops={};for(let j=0;j<Object.keys(related_workshops).length;j++)manifestFileContent.workshoptitle.toLowerCase()!==Object.keys(related_workshops)[j].toLowerCase()&&-1==$.inArray(Object.keys(related_workshops)[j].toLowerCase(),tut_titles)&&(filtered_workshops[Object.keys(related_workshops)[j]]=related_workshops[Object.keys(related_workshops)[j]]);let filter=Object.keys(filtered_workshops).sort(()=>Math.random()-Math.random()).slice(0,5);$(filter).each((function(_,f){let ul=document.createElement("ul"),li=$(document.createElement("li")).addClass("toc-item").text(f);$(li).wrapInner('<a href="'+filtered_workshops[f]+'"></a>'),$(ul).append(li),$(ul).appendTo(div)}))}))}},prepareToc=function(manifestFileContent){let h2_regex=new RegExp(/^##\s(.+)*/gm),h2s_list=[],matches;$(manifestFileContent.tutorials).each((function(i,tutorial){let ul,div=document.createElement("div");$(div).attr("id","toc"+i).addClass("toc"),$.get(tutorial.filename,(function(markdownContent){"preview"==tutorial.filename&&"None"==markdownContent&&(markdownContent=window.localStorage.getItem("mdValue")),markdownContent=include(markdownContent,manifestFileContent.include),markdownContent=singlesource(markdownContent,tutorial.type);do{matches=h2_regex.exec(markdownContent),null!==matches&&(ul=document.createElement("ul"),$(ul).append($(document.createElement("li")).addClass("toc-item").text(matches[1].replace(/\**/g,"").replace(/\##/g,"")).attr("data-unique",alphaNumOnly(matches[1]))),$(ul).click((function(){$(this).parent().parent().parent().hasClass("selected")?(location.hash=alphaNumOnly($(this).text()),expandSectionBasedOnHash($(this).find("li").attr("data-unique"))):changeTutorial(getMDFileName(tutorial.filename),alphaNumOnly($(this).text()))})),$(ul).each((function(){if(tutorial!==selectTutorial(manifestFileContent)){let li=$(this).find("li")[0];$(li).wrapInner('<a href="'+unescape(setParam(window.location.href,"lab",getMDFileName(tutorial.filename)))+"#"+$(li).attr("data-unique")+'"></a>')}})),$(ul).appendTo(div))}while(matches)})),$(".hol-Nav-list li")[i].append(div)})),setTimeout((function(){let anchorItem=$('.selected li[data-unique="'+location.hash.slice(1)+'"]');0!==anchorItem.length&&$(anchorItem)[0].click()}),1e3),$(".hol-Nav-list>li").wrapInner("<div></div>"),$(".hol-Nav-list>li>div").prepend($(document.createElement("div")).addClass("arrow").text("+")),$(".hol-Nav-list > li > div .arrow").click(arrowClick),$(".selected div.arrow").text("-"),$(".hol-Nav-list > li:not(.selected) .toc").hide()},toggleTutorialNav=function(){let nav_param=getParam("nav");nav_param&&"open"!==nav_param?"close"===nav_param&&($(".hol-Nav-list > li:not(.selected)").attr("tabindex","-1"),$("#leftNav-toc, #leftNav, #contentBox").addClass("close").removeClass("open")):($(".hol-Nav-list > li:not(.selected)").attr("tabindex","0"),$("#leftNav-toc, #leftNav, #contentBox").addClass("open").removeClass("close")),setTimeout((function(){$(window).scroll()}),100)},setupTutorialNav=function(manifestFileContent){let div=$(document.createElement("div")).attr("id","leftNav-toc"),ul=$(document.createElement("ul")).addClass("hol-Nav-list");return $(manifestFileContent.tutorials).each((function(i,tutorial){let file_name=getMDFileName(tutorial.filename);$(document.createElement("li")).each((function(){$(this).click((function(e){if(!$(e.target).hasClass("arrow")&&!$(e.target).hasClass("toc-item")&&!$(e.target).hasClass("toc-item active"))if($(e.target).parent().parent().hasClass("selected")||$(e.target).hasClass("selected"))try{$(".selected .arrow").click()}catch(e){}else changeTutorial(file_name)})),$(this).attr("id",getLabNavID(file_name)),$(this).text(tutorial.title).wrapInner('<a href="'+unescape(setParam(window.location.href,"lab",getMDFileName(tutorial.filename)))+'"><div></div></a>'),$(this).appendTo(ul),$(this).keydown((function(e){13!==e.keyCode&&32!==e.keyCode||(e.preventDefault(),changeTutorial(file_name))}))}))})),$(ul).appendTo(div),$(div).appendTo("#leftNav"),selectTutorial(manifestFileContent)},getMDFileName=function(file_name){return file_name.split("/")[file_name.split("/").length-1].replace(".md","")},getLabNavID=function(file_name,prefix="tut-"){return prefix+getMDFileName(file_name.toString()).replace(/[\(\)]+?/g,"").replace(".md","")},selectTutorial=function(manifestFileContent,position=0){if($("#"+getLabNavID(getParam("lab"))).addClass("selected"),$(".selected").find("a").contents().unwrap(),$(".selected").unbind("keydown"),-2===position)return manifestFileContent.tutorials[0];if(2===position)return manifestFileContent.tutorials[manifestFileContent.tutorials.length-1];for(var i=0;i<manifestFileContent.tutorials.length;i++)if(getParam("lab")===getMDFileName(manifestFileContent.tutorials[i].filename))return manifestFileContent.tutorials[i+position];for(var i=0;i<manifestFileContent.tutorials.length;i++)if(getParam("lab")===createShortNameFromTitle(manifestFileContent.tutorials[i].title))return void changeTutorial(getMDFileName(manifestFileContent.tutorials[i].filename),window.location.hash.substr(1));return $(".hol-Nav-list").find("li:eq(0)").addClass("selected"),manifestFileContent.tutorials[0+position]},setupTocNav=function(){$(".hol-Nav-list .selected").wrapInner("<div tabindex='0'></div>"),$(".hol-Nav-list .selected div").prepend($(document.createElement("div")).addClass("arrow").text("+")),$(".hol-Nav-list .selected").unbind("click"),$(".hol-Nav-list .selected > div").click((function(e){"-"===$(".selected div.arrow").text()?($("#toc").fadeOut("fast"),$(".selected div.arrow").text("+")):($("#toc").fadeIn("fast"),$(".selected div.arrow").text("-"))})),$(".hol-Nav-list .selected > div").keydown((function(e){13!==e.keyCode&&32!==e.keyCode||(e.preventDefault(),$(this).click())})),$(window).scroll(),$("#toc").appendTo(".hol-Nav-list .selected"),$(".selected div.arrow").click()},changeTutorial=function(file_name,anchor=""){""!==anchor&&(anchor="#"+anchor),location.href=unescape(setParam(window.location.href,"lab",file_name)+anchor)},addPathToImageSrc=function(markdownContent,myUrl){let imagesRegExp=new RegExp(/!\[.*?\]\((.*?)\)/g),contentToReplace=[],matches;myUrl=myUrl.substring(0,myUrl.lastIndexOf("/")+1);do{if(matches=imagesRegExp.exec(markdownContent),null===matches)return $(contentToReplace).each((function(index,value){markdownContent=markdownContent.replace(value.replace,value.with)})),markdownContent;matches[1]=matches[1].split(" ")[0],-1===matches[1].indexOf("http")&&"/"!==matches[1][0]&&contentToReplace.push({replace:"("+matches[1],with:"("+myUrl+matches[1].trim()})}while(matches)},updateH1Title=function(articleElement){return $("#tutorial-title").text("\t\t›\t\t"+$(articleElement).find("h1").text()),articleElement},wrapSectionTag=function(articleElement){return $(articleElement).find("h2").each((function(){$(this).nextUntil("h2").andSelf().wrapAll("<section></section>")})),articleElement},wrapImgWithFigure=function(articleElement){return $(articleElement).find("img").on("load",(function(){($(this)[0].width>100||$(this)[0].height>100||void 0!==$(this).attr("title"))&&$(this).wrap("<figure></figure>"),($(this).attr("alt").length<1||!$(this).attr("alt")||""==$(this).attr("alt")||null==$(this).attr("alt")||0==$(this).attr("alt"))&&$(this).attr("alt","The content is described above.")})),articleElement},addPathToAllRelativeHref=function(articleElement,myUrl){return-1!==myUrl.indexOf("/")&&(myUrl=myUrl.replace(/\/[^\/]+$/,"/"),$(articleElement).find("a").each((function(){-1===$(this).attr("href").indexOf("http")&&"/"!==$(this).attr("href")[0]&&0!==$(this).attr("href").indexOf("?")&&0!==$(this).attr("href").indexOf("#")&&$(this).attr("href",myUrl+$(this).attr("href"))}))),articleElement},makeAnchorLinksWork=function(articleElement){return $(articleElement).find('a[href^="#"]').each((function(){let href=$(this).attr("href");"#"!==href&&$(this).click((function(){expandSectionBasedOnHash(href.split("#")[1])}))})),articleElement},addTargetBlank=function(articleElement){return $(articleElement).find("a").each((function(){0===$(this).attr("href").indexOf("http")&&-1==$(this).attr("href").indexOf("&type=")&&$(this).attr("target","_blank")})),articleElement},updateHeadContent=function(tutorialEntryInManifest,workshoptitle){document.title=void 0!==workshoptitle?workshoptitle+" | "+tutorialEntryInManifest.title:tutorialEntryInManifest.title;const metaProperties=[{name:"contentid",content:tutorialEntryInManifest.contentid},{name:"description",content:tutorialEntryInManifest.description},{name:"partnumber",content:tutorialEntryInManifest.partnumber},{name:"publisheddate",content:tutorialEntryInManifest.publisheddate}];$(metaProperties).each((function(i,metaProp){if(metaProp.content){let metaTag=document.createElement("meta");$(metaTag).attr(metaProp).prependTo("head")}}))},addGoToForumLink=function(support){const support_text="Go to forum";if(void 0!==support){let need_help=$(document.createElement("li")).append($(document.createElement("a")).attr({href:support,target:"_blank"}).text(support_text));$(".footer-links").append(need_help)}},addNeedHelpLink=function(help,wtitle){const subject="Question about workshop: "+wtitle,help_text="Need help? Send us an email.";if(void 0!==help){let need_help=$(document.createElement("a")).attr({href:"mailto:"+help+"?subject="+subject,title:help_text,id:"need_help",tabindex:"0"}).text("?");$("header .hol-Header-wrap").append(need_help)}},setupContentNav=function(manifestFileContent,articleElement){$("#module-content h2:eq(1)").before('<button id="btn_toggle" class="hol-ToggleRegions plus">'+expandText+"</button>").prev().on("click",(function(e){$(this).text()===expandText?expandSection($("#module-content h2:not(:eq(0))"),"show"):collapseSection($("#module-content h2:not(:eq(0))"),"hide"),changeButtonState()})),$("#module-content h2:not(:eq(0))").click((function(e){$(this).hasClass("plus")?expandSection(this,"fade"):collapseSection(this,"fade"),changeButtonState()})),$("#module-content h2:not(:eq(0))").attr("tabindex","0"),$("#module-content h2:not(:eq(0))").keydown((function(e){13!==e.keyCode&&32!==e.keyCode||(e.preventDefault(),$(this).hasClass("plus")?expandSection($(this),"fade"):collapseSection($(this),"fade"))}));let hide_expand_button=selectTutorial(manifestFileContent).hide_button||manifestFileContent.hide_button;"true"!=hide_expand_button&&"yes"!=hide_expand_button||$("#btn_toggle").hide(),window.scrollTo(0,0)},expandSection=function(anchorElement,effect){"show"===effect?$(anchorElement).nextUntil("#module-content h1, #module-content h2").show("fast",(function(){$(window).scroll()})):"fade"===effect&&$(anchorElement).nextUntil("#module-content h1, #module-content h2").fadeIn("fast",(function(){$(window).scroll()})),$(anchorElement).addClass("minus"),$(anchorElement).removeClass("plus")},collapseSection=function(anchorElement,effect){"hide"===effect?$(anchorElement).nextUntil("#module-content h1, #module-content h2").hide("fast",(function(){$(window).scroll()})):"fade"===effect?$(anchorElement).nextUntil("#module-content h1, #module-content h2").fadeOut("fast",(function(){$(window).scroll()})):"none"==effect&&$(anchorElement).nextUntil("#module-content h1, #module-content h2").attr("style","display:none;"),$(anchorElement).addClass("plus"),$(anchorElement).removeClass("minus")},changeButtonState=function(){$("#module-content h2.minus").length<=$("#module-content h2.plus").length?($("#btn_toggle").text(expandText),$("#btn_toggle").addClass("plus"),$("#btn_toggle").removeClass("minus")):($("#btn_toggle").text(collapseText),$("#btn_toggle").addClass("minus"),$("#btn_toggle").removeClass("plus"))},expandSectionBasedOnHash=function(itemName){let anchorElement=$('div[name="'+itemName+'"]').next();$(anchorElement).hasClass("hol-ToggleRegions")&&(anchorElement=$(anchorElement).next());try{"H2"!==anchorElement[0].tagName&&(anchorElement=$(anchorElement).siblings("h2")),($(anchorElement).hasClass("minus")||$(anchorElement).hasClass("plus"))&&expandSection(anchorElement,"fade"),$(anchorElement)[0].scrollIntoView(),window.scrollTo(0,window.scrollY-$(".hol-Header").height()),changeButtonState()}catch(e){}},selectElement=function(elements){$(elements).addClass("code-highlight"),window.setTimeout((function(){$(elements).removeClass("code-highlight")}),2e3)},allowCodeCopy=function(articleElement){return $(articleElement).find("pre code").each((function(){if($(this).text().indexOf("<copy>")>=0){let code=$(document.createElement("code")).html($(this).text());$(this).html($(code).html())}$(this).has("copy").length>=1&&($(this).find("copy").contents().unwrap().wrap('<span class="copy-code">'),$(this).before('<button class="copy-button" title="Copy text to clipboard">Copy</button>'))})),$(articleElement).find(".copy-button").click((function(){selectElement($(this).next().find(".copy-code"));let copyText=$(this).next().find(".copy-code").map((function(){return $(this).text().trim()})).get().join("\n"),dummy=$("<textarea>").val(copyText).appendTo(this).select();document.execCommand("copy"),$(dummy).remove(),$(this).parent().animate({opacity:.2}).animate({opacity:1})})),articleElement},renderYouTubeVideos=function(articleElement){return $(articleElement).find('a[href^="youtube:"]').each((function(){$(this).after('<div class="video-container"><iframe title="video iframe" src="https://www.youtube.com/embed/'+$(this).attr("href").split(":")[1]+'" frameborder="0" allowfullscreen></div>'),$(this).remove()})),articleElement},renderVideoHubVideos=function(articleElement){return $(articleElement).find('a[href^="videohub:"]').each((function(){$(this).after('<div class="video-container"><iframe id="kaltura_player" title="video iframe" src="https://cdnapisec.kaltura.com/p/2171811/sp/217181100/embedIframeJs/uiconf_id/35965902/partner_id/2171811?iframeembed=true&playerId=kaltura_player&entry_id='+$(this).attr("href").split(":")[1]+'&flashvars[streamerType]=auto" frameborder="0" allowfullscreen></div>'),$(this).remove()})),articleElement},singlesource=function(markdownContent,type){let ifTagRegExp=new RegExp(/<\s*if type="([^>]*)">([\s\S|\n]*?)<\/\s*if>/gm),contentToReplace=[],matches;!1!==getParam("type")?type=getParam("type"):"object"==$.type(type)&&(type=Object.keys(type)[0]),"array"!==$.type(type)&&(type=Array(type));do{if(matches=ifTagRegExp.exec(markdownContent),null===matches)return $(contentToReplace).each((function(index,value){markdownContent=markdownContent.replace(value.replace,value.with)})),markdownContent;let all_types=matches[1].split(" "),matchFound=!1;for(let i=0;i<all_types.length&&!matchFound;i++)$.inArray(all_types[i],type)>=0&&(matchFound=!0);matchFound?contentToReplace.push({replace:matches[0],with:matches[2]}):contentToReplace.push({replace:matches[0],with:""})}while(matches)},convertBracketInsideCopyCode=function(markdownContent){let copyRegExp=new RegExp(/<copy>([\s\S|\n]*?)<\/copy>/gm);return markdownContent=markdownContent.replace(copyRegExp,(function(code){return"<copy>"+(code=(code=(code=(code=code.replace("<copy>","")).replace("</copy>","")).replace(/</g,"&lt;")).replace(/>/g,"&gt;")).trim()+"</copy>"}))},injectUtmParams=function(articleElement){let currentUrl=window.location.href;return $(utmParams).each((function(index,item){let inParamValue=getParam(item.inParam);inParamValue&&$(articleElement).find('a[href*="'+item.url+'"]').each((function(){let targetUrl=$(this).attr("href");$(this).attr("href",unescape(setParam(targetUrl,item.outParam,inParamValue)))}))})),$(utmParams).each((function(index,item){let inParamValue=getParam(item.inParam);inParamValue&&$(articleElement).find('a[href*="?lab="]').each((function(){let targetUrl=$(this).attr("href")+"&"+item.inParam+"="+inParamValue;$(this).attr("href",unescape(targetUrl))}))})),articleElement},setParam=function(url,paramName,paramValue){let onlyUrl=url.split("?")[0].split("#")[0],params=url.replace(onlyUrl,"").split("#")[0],hashAnchors=url.replace(onlyUrl+params,"");hashAnchors="";let existingParamValue=getParam(paramName);return existingParamValue?onlyUrl+params.replace(paramName+"="+existingParamValue,paramName+"="+paramValue)+"":0===params.length||1===params.length?onlyUrl+"?"+paramName+"="+paramValue:onlyUrl+params+"&"+paramName+"="+paramValue},getParam=function(paramName){let params=window.location.search.substring(1).split("&");for(var i=0;i<params.length;i++)if(params[i].split("=")[0]==paramName)return params[i].split("=")[1];return!1},createShortNameFromTitle=function(title){if(!title)return console.log("The title in the manifest file cannot be blank!"),"ErrorTitle";const removeFromTitle=["-a-","-in-","-of-","-the-","-to-","-an-","-is-","-your-","-you-","-and-","-from-","-with-"],folderNameRestriction=["<",">",":",'"',"/","\\\\","|","\\?","\\*","&","\\.",","];let shortname=title.toLowerCase().replace(/ /g,"-").trim().substr(0,50);return $.each(folderNameRestriction,(function(i,value){shortname=shortname.replace(new RegExp(value,"g"),"")})),$.each(removeFromTitle,(function(i,value){shortname=shortname.replace(new RegExp(value,"g"),"-")})),shortname.length>40&&(shortname=shortname.substr(0,shortname.lastIndexOf("-"))),shortname},updateOpenCloseButtonText=function(articleElement,manifestFileContent){let task_type=selectTutorial(manifestFileContent).task_type||manifestFileContent.task_type;if(task_type){const default_task_type="Tasks";task_type=task_type.trim(),collapseText=collapseText.replace(default_task_type,task_type),expandText=expandText.replace(default_task_type,task_type)}return articleElement},showRightAndLeftArrow=function(articleElement,manifestFileContent){let next_page=selectTutorial(manifestFileContent,extendedNav["#next"]),prev_page=selectTutorial(manifestFileContent,extendedNav["#prev"]);return void 0!==next_page&&$(".hol-Footer-rightLink").removeClass("hide").addClass("show").attr({href:unescape(setParam(window.location.href,"lab",getMDFileName(next_page.filename))),title:"Next"}).text("Next"),void 0!==prev_page&&$(".hol-Footer-leftLink").removeClass("hide").addClass("show").attr({href:unescape(setParam(window.location.href,"lab",getMDFileName(prev_page.filename))),title:"Previous"}).text("Previous"),articleElement},setH2Name=function(articleElement){return $(articleElement).find("h2").each((function(){$(this).before($(document.createElement("div")).attr({name:alphaNumOnly($(this).text()),"data-unique":alphaNumOnly($(this).text())}))})),articleElement},alphaNumOnly=function(text){return text.replace(/[^[A-Za-z0-9:?\(\)]+?/g,"")},performQA=function(articleElement,markdownContent,manifestFileContent){let error_div=$(document.createElement("div")).attr("id","qa-report").html("<div id='qa-reportheader'></div><div id='qa-reportbody'><ol></ol></div>");const more_info="Please see <a href='https://oracle.github.io/learning-library/sample-livelabs-templates/create-labs/labs/workshops/freetier/?lab=3a-labs-misc-develop-content-features' target='_blank'>using the LiveLabs template</a> for more information.";let urlExists=function(url,callback){$.ajax({type:"HEAD",url:url,success:function(){callback(!0)},error:function(){callback(!1)}})},add_issue=function(error_msg,error_type="",follow_id=!1){follow_id?$(error_div).find("ol").append("<li class="+error_type+">"+error_msg+" <small onclick=\"window.scrollTo({top:$('."+follow_id+"').offset().top - ($('header').outerHeight() + 10), behavior: 'smooth'});\">(show)</small></li>"):$(error_div).find("ol").append("<li class="+error_type+">"+error_msg+"</li>")},checkH1,checkForGerundInTitle=function(manifest){-1!==manifest.workshoptitle.indexOf("ing ")&&add_issue("Please use an imperative workshop title instead of a gerund.","major-error")},checkForHtmlTags=function(markdown){let count=(markdown.match(new RegExp("<a href=","g"))||[]).length;1==count?add_issue("There is "+count+" occurrence of HTML (for example: &lt;a href=...&gt;) in your Markdown. Please do not embed HTML in Markdown."):count>1&&add_issue("There are "+count+" occurrences of HTML (for example: &lt;a href=...&gt;) in your Markdown. Please do not embed HTML in Markdown.")},checkSecondH2Tag=function(article){0!==$(article).find("h2:eq(1)").text().substr(0,4).indexOf("Task")&&($(article).find("h2:eq(1)").addClass(getFollowId()),add_issue('The second H2 tag (##) of your Markdown file should be labeled with "Task".',"",getFollowId()))},checkImages=function(article){$(article).find("img").each((function(){if("modalImg"!==$(this).attr("id"))try{if($(this).attr("src").indexOf("/images/")<=0)return add_issue("Your images must be in an <strong>images</strong> folder. Please rename the folder and update your Markdown."),!1}catch(e){return add_issue("Your images must be in an <strong>images</strong> folder. Please rename the folder and update your Markdown."),!1}}))},checkImagesAltText=function(article){$(article).find("img").each((function(){try{if($(this).attr("alt").length<1||!$(this).attr("alt")||""==$(this).attr("alt")||null==$(this).attr("alt")||0==$(this).attr("alt"))return add_issue("Please make sure that all images contain alternate text."),!1}catch(e){return!1}}))},checkForCopyTag=function(article){let count=0;$(article).find("pre > code").each((function(){0==$(this).find(".copy-code").length&&(count+=1,$(this).addClass(getFollowId()),add_issue("You have a code block (```) without a &lt;copy&gt; tag. Please review your Markdown and make the necessary changes.","",getFollowId()))}))},checkCodeBlockFormat=function(markdown){let count=(markdown.match(/\````/g)||[]).length;1==count?add_issue("Your Markdown file has "+count+" codeblock with 4 (````). This should be changed to 3 (```). Please review your Markdown and make the necessary changes."):count>1&&add_issue("Your Markdown file has "+count+" codeblocks with 4 (````). This should be changed to 3 (```). Please review your Markdown and make the necessary changes.")},updateCount=function(article){$(error_div).find("#qa-reportheader").html("Total Issues: "+$(error_div).find("li").length),$(error_div).find("li").length?($(error_div).find("#qa-reportbody").show(),0===$(error_div).find("#qa-reportbody p").length&&$(error_div).find("#qa-reportbody").append("<p>"+more_info+"</p>")):$(error_div).find("#qa-reportbody").hide()},checkLinkExists=function(article){$(article).find("a").each((function(){let url=$(this).attr("href"),url_text=$(this).text();urlExists(url,(function(exists){exists||($('a[href$="'+url+'"]').addClass("error "+getFollowId()),add_issue("This URL may be broken: <a href='"+url+"' target='_blank'>"+url_text+"</a>","major-error",getFollowId()),updateCount(article))}))}))},checkImageExists=function(article){$(article).find("img").each((function(){if("modalImg"===$(this).attr("id"))return;let url=$(this).attr("src"),url_text=$(this).attr("src").split("/")[$(this).attr("src").split("/").length-1];urlExists(url,(function(exists){exists||($('img[src$="'+url+'"]').addClass("error "+getFollowId()),add_issue("The link to image <strong>"+url_text+"</strong> is broken.","major-error",getFollowId()),updateCount(article))}))}))},checkIfSectionExists=function(article,section_name){0===$(article).find('div[name="'+alphaNumOnly(section_name)+'"]').length&&add_issue("You are missing <strong>"+section_name+"</strong> section.")},checkIndentation=function(article){$(article).find("section:not(:first-of-type)").each((function(){let tag_list=[];0==$(this).find("h2").text().toUpperCase().trim().indexOf("Task")&&($(this).children().each((function(){tag_list.push($(this).prop("tagName"))})),-1!==$.inArray("UL",tag_list)&-1==$.inArray("OL",tag_list)&&(add_issue("In section <strong>"+$(this).find("h2").text()+"</strong>, your steps are not numbered. Numbered steps should follow your STEP element.","minor-error"),$(this).find("h2").addClass("format-error")),$.inArray("PRE",tag_list)>$.inArray("OL",tag_list)&&($(this).children("pre").addClass("format-error "+getFollowId()),add_issue("Your codeblock is not indented correctly. Add spaces to indent your codeblock.","minor-error",getFollowId())),$(this).find("img").each((function(){-1==$(this).parent().parent().prop("tagName").indexOf("LI")&&-1==$(this).parent().parent().prop("tagName").indexOf("OL")&&-1==$(this).parent().parent().prop("tagName").indexOf("UL")&&($(this).addClass("format-error "+getFollowId()),add_issue("The image <strong>"+$(this).attr("src").split("/")[$(this).attr("src").split("/").length-1]+"</strong> is not aligned with your text blocks. Add spaces to indent your image.","minor-error",getFollowId()))})))}))},getFollowId=function(){return"error_"+$(error_div).find("li").length};return function(article){1!==$(article).find("h1").length&&(add_issue("Only a single title is allowed, please edit your Markdown file and remove or recast other content tagged with a single #.","major-error"),$(article).find("h1").addClass("error"))}(articleElement),checkForGerundInTitle(manifestFileContent),checkForHtmlTags(markdownContent),checkImages(articleElement),checkImagesAltText(articleElement),checkCodeBlockFormat(markdownContent),checkSecondH2Tag(articleElement),checkForCopyTag(articleElement),!window.location.href.indexOf("localhost")&&window.location.href.indexOf("127.0.0.1")&&checkLinkExists(articleElement),checkImageExists(articleElement),checkIfSectionExists(articleElement,"Acknowledgements"),checkIndentation(articleElement),updateCount(articleElement),$(articleElement).prepend(error_div)};function dragElement(elmnt){var pos1=0,pos2=0,pos3=0,pos4=0;function dragMouseDown(e){(e=e||window.event).preventDefault(),pos3=e.clientX,pos4=e.clientY,document.onmouseup=closeDragElement,document.onmousemove=elementDrag}function elementDrag(e){(e=e||window.event).preventDefault(),pos1=pos3-e.clientX,pos2=pos4-e.clientY,pos3=e.clientX,pos4=e.clientY,elmnt.style.top=elmnt.offsetTop-pos2+"px",elmnt.style.left=elmnt.offsetLeft-pos1+"px"}function closeDragElement(){document.onmouseup=null,document.onmousemove=null}document.getElementById(elmnt.id+"header")?(document.getElementById(elmnt.id+"header").onmousedown=dragMouseDown,$("#qa-reportheader").dblclick((function(){$("#qa-reportbody").fadeToggle()}))):elmnt.onmousedown=dragMouseDown}}(),download=function(){let download_file=function(filename,text){let pom=document.createElement("a");if(pom.setAttribute("href","data:html/plain;charset=utf-8,"+encodeURIComponent(text)),pom.setAttribute("download",filename),document.createEvent){let event=document.createEvent("MouseEvents");event.initEvent("click",!0,!0),pom.dispatchEvent(event)}else pom.click()};$.when($("img").each((function(){$(this).css("max-width","75%"),-1==$(this).attr("src").indexOf("http")&&$(this).attr("src",location.protocol+"//"+location.host+location.pathname+$(this).attr("src"))})),$("pre button").remove(),$("pre").attr("style","white-space: pre-wrap; white-space: -moz-pre-wrap; white-space: -pre-wrap; white-space: -o-pre-wrap; word-wrap: break-word; max-width: 80%;"),$("#module-content h2:not(:eq(0))").nextAll().show("fast"),$("h2").removeClass("plus minus"),$("#btn_toggle").remove()).done((function(){download_file($(".selected span").text().replace(/[^[A-Za-z0-9:?]+?/g,"")+".html",'<html><head><link rel="stylesheet" href="https://oracle-livelabs.github.io/common/redwood-hol/img/favicon.ico" /></head><body style="padding-top: 0px;">'+$("#contentBox")[0].outerHTML+"</body></html>")}))};